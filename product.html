<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Détail Produit</title>
  <link rel="stylesheet" href="styles.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400&family=Inter:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
<div id="ew">
  <section class="product">
    <div class="container">
      <div class="wrap">
        <div class="viewer">
          <img id="mainImg" src="" alt="">
          <div class="thumbs" id="thumbs"></div>
        </div>
        <div class="info">
          <h1 id="title">Produit</h1>
          <p class="muted" id="collectionName"></p>
          <p id="desc">Description du produit…</p>
          <div class="textures" id="textures"></div>
        </div>
      </div>
    </div>
  </section>
</div>

<script>
(function(){
  const p = new URLSearchParams(location.search);
  const title = p.get("title")||"Produit";
  const collection = p.get("collection")||"Collection";
  const gallery = (p.get("gallery")||"").split("|").filter(Boolean);

  document.getElementById("title").textContent=title;
  document.getElementById("collectionName").textContent=collection;

  const main=document.getElementById("mainImg");
  const thumbs=document.getElementById("thumbs");
  const textures=document.getElementById("textures");

  if(gallery.length){
    main.src=gallery[0];
    gallery.forEach(src=>{
      const t=document.createElement("img");
      t.src=src; t.onclick=()=>main.src=src;
      thumbs.appendChild(t);

      const tx=document.createElement("div");
      tx.className="tex"; tx.style.backgroundImage=`url(${src})`;
      tx.onclick=()=>main.src=src;
      textures.appendChild(tx);
    });
  }
})();
</script>
</body>
</html>
