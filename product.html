
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Produit — Détail</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <section class="product">
    <div class="container">
      <div class="breadcrumb"><a href="index.html">Collections</a> › <a id="bc-collection" href="#">—</a> › <span id="bc-title">—</span></div>
      <div class="wrap">
        <div class="viewer">
          <div class="main"><img id="mainImg" src="" alt="Produit"></div>
          <div class="thumbs" id="thumbs"></div>
        </div>
        <aside class="info">
          <h1 id="title">—</h1>
          <div class="kv">
            <div><strong>Collection</strong><br><span id="collectionName">—</span></div>
            <div><strong>Code</strong><br><span id="code">—</span></div>
          </div>
          <p class="muted" id="dims">Dimensions variables</p>
          <div class="links">
            <a id="tech" href="#" target="_blank" rel="noreferrer">Fiche technique</a>
            <a id="infos" href="#" target="_blank" rel="noreferrer">Infos utiles</a>
            <a href="mailto:contact@elegance-design.fr?subject=Demande%20devis%20papier%20peint">Demander un devis</a>
          </div>
          <div class="mini" style="margin-top:18px">
            <img id="mini" src="" alt="aperçu">
          </div>
          <p class="muted" style="margin-top:8px">Images non contractuelles. Échantillons disponibles sur demande.</p>
        </aside>
      </div>
    </div>
  </section>

  <script>
    // Parse query parameters
    const params = new URLSearchParams(window.location.search);
    const title = params.get('title') || 'Modèle';
    const collection = params.get('collection') || 'Collection';
    const code = params.get('code') || title.replace(/\s+/g,'').toUpperCase();
    const dims = params.get('dims') || 'Dimensions variables';
    const gallery = (params.get('gallery') || '').split('|').filter(Boolean);

    // Fill content
    document.getElementById('title').textContent = title;
    document.getElementById('collectionName').textContent = collection;
    document.getElementById('code').textContent = code;
    document.getElementById('dims').textContent = dims;
    document.getElementById('bc-title').textContent = title;
    document.getElementById('bc-collection').textContent = collection;
    document.getElementById('bc-collection').href = collection.toLowerCase()==='gold' ? 'gold.html' : (collection.toLowerCase()==='3d' ? 'collection-3d.html' : 'prestige.html');

    const main = document.getElementById('mainImg');
    const thumbs = document.getElementById('thumbs');
    const mini = document.getElementById('mini');
    if(gallery.length){
      main.src = gallery[0];
      mini.src = gallery[1] || gallery[0];
      gallery.forEach((src, i)=>{
        const im = document.createElement('img');
        im.src = src; im.alt = title + ' ' + (i+1);
        im.addEventListener('click', ()=>{ main.src = src; });
        thumbs.appendChild(im);
      });
    }else{
      main.style.background = '#f2f2f2';
    }

    // Dummy links for tech/infos (could be PDFs later)
    document.getElementById('tech').href = main.src;
    document.getElementById('infos').href = main.src;
  </script>
</body>
</html>
