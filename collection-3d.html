<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>3D — Collection</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400&family=Inter:wght@300;400&display=swap" rel="stylesheet">
<style>
  html,body{margin:0;background:#f8f8f6;color:#111;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial}
  body{padding-bottom:140px;}
  .container{max-width:1320px;margin:0 auto;padding:22px}
  .header{display:flex;align-items:flex-end;justify-content:space-between;gap:18px;margin:10px 0 6px}
  h1{font-family:"Playfair Display",serif;font-weight:400;margin:0}
  .muted{color:#6f7377}
  .back{position:sticky;top:12px;z-index:5;display:inline-flex;align-items:center;gap:8px;text-decoration:none;color:#fff;background:#1a1a1a;border-radius:999px;padding:9px 12px;border:1px solid #000;box-shadow:0 2px 8px rgba(0,0,0,.12)}
  .grid{display:grid;gap:24px;grid-template-columns:repeat(12,minmax(0,1fr));margin-top:14px}
  .tile{grid-column:span 12;text-decoration:none;color:inherit}
  .tile img{width:100%;aspect-ratio:4/3;object-fit:cover;border-radius:14px;display:block;background:#f2f2f2}
  .tile h3{text-align:center;font-family:"Playfair Display",serif;font-weight:400;margin:10px 0 0}
  @media(min-width:900px){.tile{grid-column:span 6}}
  html, body { overscroll-behavior:none; overflow:visible; -webkit-tap-highlight-color:transparent; }
  @media(max-width:768px){ .grid{gap:16px} .tile img{aspect-ratio:3/2} .back{top:max(12px,env(safe-area-inset-top))} }
  img{content-visibility:auto;contain-intrinsic-size:800px 600px}
</style>
</head>
<body>
<div class="container">
  <a class="back" href="index.html" aria-label="Retour">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M15 18l-6-6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
    Retour
  </a>
  <div class="header">
    <div>
      <h1>3D</h1>
      <div class="muted">Reliefs & lumière</div>
    </div>
  </div>

  <div class="grid" id="grid"></div>
</div>

<script>
  const COLLECTION_NAME = "3D";
  const ITEMS = [
    { title:"Fairy Leaves", images:[
      "https://static.wixstatic.com/media/d77542_6e88f99b79d842289fc245aa6f585a88~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_e80c83f8301f46eb91744df98d6cbcf4~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_4476f79efc6147d885c30be713ab74e6~mv2.jpg",
    ], desc:"Feuillages sculptés, lumière douce et relief maîtrisé."},

    { title:"Falling Lines", images:[
      "https://static.wixstatic.com/media/d77542_778500da641445beb6f2fa620d641efe~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_5788604e493142cfa00a90bc39a3273a~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_0ad7dd7cb1904487b75f352b007558b4~mv2.jpg",
    ], desc:"Strates verticales en mouvement, effet architectural."},

    { title:"Groove", images:[
      "https://static.wixstatic.com/media/d77542_f8d88f836fc64df8b351225c370e1e72~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_7ab199a2b2224116a1752b9c5b089ac1~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_4ec0fb4865b641adbebaee2ce9c3ca19~mv2.jpg",
    ], desc:"Rainures graphiques, volume dynamique et sobre."},

    { title:"Large Leaves", images:[
      "https://static.wixstatic.com/media/d77542_be742bd255bf43079eaab25949174863~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_147808aee82b4a14b4583c73c68bdc25~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_ef7722d5c63547b5a858f93ec678f469~mv2.jpg",
    ], desc:"Grandes feuilles en bas-relief, ambiance apaisante."},

    { title:"Petals", images:[
      "https://static.wixstatic.com/media/d77542_d43a6b1ad87541fc918fbe4c7239ddee~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_e17e80094fc24edd9f662112d2530d8e~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_02798f1e75124055983b4b1caac9be33~mv2.jpg",
    ], desc:"Pétales en relief, douceur tactile et volumes apaisants."},

    { title:"Rose", images:[
      "https://static.wixstatic.com/media/d77542_6d37b0eb081e43eaba849b463348270e~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_d94048f6dbb943c1bcd9e1fb7b6df766~mv2.jpg",
      "https://static.wixstatic.com/media/d77542_3d236ff2fd224bb3a80a59e8f37aae68~mv2.jpg",
    ], desc:"Rosace en bas-relief, élégance intemporelle."},
  ];

  const grid = document.getElementById('grid');
  ITEMS.forEach(item=>{
    const a=document.createElement('a'); a.href='product.html'; a.className='tile';
    a.addEventListener('click',e=>{
      e.preventDefault();
      sessionStorage.setItem('EW_PRODUCT', JSON.stringify({
        collection: COLLECTION_NAME, title: item.title, images: item.images, desc: item.desc
      }));
      location.href='product.html';
    });
    const img=new Image(); img.src=item.images[0]; img.alt=item.title; a.appendChild(img);
    const h=document.createElement('h3'); h.textContent=item.title; a.appendChild(h);
    grid.appendChild(a);
  });

  (function(){
    let rafId=0;
    const postH = () => {
      if (rafId) return;
      rafId = requestAnimationFrame(() => {
        rafId = 0;
        try {
          const h = Math.max(document.documentElement.scrollHeight, document.body?document.body.scrollHeight:0);
          parent && parent.postMessage({ type:'EW_IFRAME_RESIZE', height: h }, '*');
        } catch {}
      });
    };
    ['load','resize','orientationchange','scroll'].forEach(e=>window.addEventListener(e,postH,{passive:true}));
    document.querySelectorAll('img').forEach(img=>img.addEventListener('load', postH, { once:true, passive:true }));
    const mo = new MutationObserver(postH); mo.observe(document.body, { childList:true, subtree:true });
    setTimeout(postH,200); setTimeout(postH,800); setTimeout(postH,1600);
    document.documentElement.style.overflow='visible'; if(document.body) document.body.style.overflow='visible';
  })();
</script>
</body>
</html>
